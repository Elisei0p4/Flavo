# Deployment Guide

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –≤—Å–µ —É–ª—É—á—à–µ–Ω–∏—è, –≤–Ω–µ—Å–µ–Ω–Ω—ã–µ –≤ –ø—Ä–æ–µ–∫—Ç —Å–æ–≥–ª–∞—Å–Ω–æ –∫–æ–¥-—Ä–µ–≤—å—é.

## üöÄ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### Backend

#### 1. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ payments/services.py
- ‚úÖ –†–∞–∑–±–∏–ª –º–æ–Ω–æ–ª–∏—Ç–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `fulfill_order_from_webhook` –Ω–∞ 3-4 –º–µ–ª–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
- ‚úÖ –£–±—Ä–∞–ª –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –∫—ç—à–±–µ–∫–∞ –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞ (—Ç–µ–ø–µ—Ä—å –æ—Ç–¥–µ–ª—å–Ω–∞—è Celery –∑–∞–¥–∞—á–∞)
- ‚úÖ –ö–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏–º–µ–µ—Ç —Å–≤–æ—é –æ–±–ª–∞—Å—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

#### 2. –£–¥–∞–ª–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤ –¥–ª—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫—ç—à–∞
- ‚úÖ –£–¥–∞–ª–∏–ª –≤—Å–µ —Å–∏–≥–Ω–∞–ª—ã `post_save` –∏ `m2m_changed` –∏–∑ models.py
- ‚úÖ –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—ç—à–∞ —Ç–µ–ø–µ—Ä—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —è–≤–Ω–æ –≤ –º–µ—Å—Ç–∞—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ö–æ–¥ —Å—Ç–∞–ª —á–∏—â–µ –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–µ–µ

#### 3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ generate_sku
- ‚úÖ –î–æ–±–∞–≤–∏–ª –ø—Ä–æ–≤–µ—Ä–∫—É —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ —Å —Ü–∏–∫–ª–æ–º –ø–æ–ø—ã—Ç–æ–∫ (–¥–æ 10 —Ä–∞–∑)
- ‚úÖ –î–æ–±–∞–≤–∏–ª fallback –º–µ—Ö–∞–Ω–∏–∑–º —Å timestamp + random –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –£–±—Ä–∞–ª –Ω–∞–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —Å –ø—Ä–æ—Å—Ç—ã–º uuid4

#### 4. –ü–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏–µ Celery –∑–∞–¥–∞—á
- ‚úÖ –£–±—Ä–∞–ª –∂–µ—Å—Ç–∫–∏–µ `countdown` –∏–∑ —Ü–µ–ø–æ—á–∫–∏ –∑–∞–¥–∞—á
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–ª –±–æ–ª–µ–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
- ‚úÖ –£–ª—É—á—à–∏–ª –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ (–Ω–µ —Ä–µ—Ç—Ä–∞–∏–º –¥–ª—è DoesNotExist)
- ‚úÖ –î–æ–±–∞–≤–∏–ª —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—É—é –∑–∞–¥–µ—Ä–∂–∫—É –¥–ª—è —Ä–µ—Ç—Ä–∞–µ–≤

### Frontend

#### 5. –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º–Ω–æ–≥–æ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞
- ‚úÖ –£–¥–∞–ª–∏–ª `useCartTotals` —Å–µ–ª–µ–∫—Ç–æ—Ä –∏–∑ cart/selectors.ts
- ‚úÖ –û—Å—Ç–∞–≤–∏–ª —Ç–æ–ª—å–∫–æ –∞—Ç–æ–º–∞—Ä–Ω—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã `useSelectTotalItems` –∏ `useSelectTotalPrice`
- ‚úÖ –û–±–Ω–æ–≤–∏–ª –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

#### 6. –£–ª—É—á—à–µ–Ω–∏–µ e2e —Ç–µ—Å—Ç–æ–≤
- ‚úÖ –ó–∞–º–µ–Ω–∏–ª —Ö—Ä—É–ø–∫–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –ø–æ —Ç–µ–∫—Å—Ç—É –Ω–∞ `data-testid`
- ‚úÖ –¢–µ—Å—Ç—ã —Å—Ç–∞–ª–∏ –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω—ã–º–∏ –∏ –Ω–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π UI —Ç–µ–∫—Å—Ç–∞

### DevOps / –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

#### 7. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ nginx.prod.conf
- ‚úÖ –î–æ–±–∞–≤–∏–ª –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è `${DOMAIN_NAME}`
- ‚úÖ –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–ª SSL –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- ‚úÖ –°–æ–∑–¥–∞–ª entrypoint —Å–∫—Ä–∏–ø—Ç –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- ‚úÖ –û–±–Ω–æ–≤–∏–ª Dockerfile –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ envsubst

#### 8. –î–µ–ø–ª–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
- ‚úÖ –î–æ–±–∞–≤–∏–ª —à–∞–≥ –¥–µ–ø–ª–æ—è –≤ GitHub Actions
- ‚úÖ –°–æ–∑–¥–∞–ª Ansible –ø–ª–µ–π–±—É–∫ –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ –¥–µ–ø–ª–æ—è
- ‚úÖ –î–æ–±–∞–≤–∏–ª –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π workflow —Å Ansible
- ‚ö†Ô∏è **–í–ê–ñ–ù–û**: –¢–µ–∫—É—â–∏–π –º–µ—Ç–æ–¥ –¥–µ–ø–ª–æ—è (down ‚Üí up) –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –∫—Ä–∞—Ç–∫–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º—É –ø—Ä–æ—Å—Ç–æ—é
- üìù –î–ª—è zero-downtime –¥–µ–ø–ª–æ—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
  - Docker Swarm —Å rolling updates
  - Kubernetes —Å rolling deployments
  - Blue/Green deployment —Å Nginx

#### 9. –ü–æ–ª–Ω–∞—è Observability
- ‚úÖ **Prometheus**: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ –∞–ª–µ—Ä—Ç–æ–≤
- ‚úÖ **Grafana**: –î–∞—à–±–æ—Ä–¥—ã –∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **Loki**: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ **OpenTelemetry**: –¢—Ä–µ–π—Å–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ –≤—Å—é —Å–∏—Å—Ç–µ–º—É
- ‚úÖ **Jaeger**: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–µ–π—Å–æ–≤

#### 10. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ **Rate Limiting**: –ó–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞ (5 –ø–æ–ø—ã—Ç–æ–∫/–º–∏–Ω –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, 10/–º–∏–Ω –¥–ª—è –ª–æ–≥–∏–Ω–∞)
- ‚úÖ **CSP**: Content Security Policy –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç XSS
- ‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞–º–∏**: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ Vault/AWS Secrets Manager

#### 11. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **–ú–∏–≥—Ä–∞—Ü–∏–∏**: –°–æ–∑–¥–∞–ª –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —ç–≤–æ–ª—é—Ü–∏–∏ —Å—Ö–µ–º—ã
- ‚úÖ **–ò–Ω–¥–µ–∫—Å—ã**: –î–æ–±–∞–≤–∏–ª —Å–æ—Å—Ç–∞–≤–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

#### 12. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Å—Ç–µ—Ä–æ–∏–¥–∞—Ö
- ‚úÖ **Factory-boy**: –§–∞–±—Ä–∏–∫–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **Hypothesis**: Property-based —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ **Responses**: –ß–∏—Å—Ç—ã–π –º–æ–∫–∏–Ω–≥ –≤–Ω–µ—à–Ω–∏—Ö API (Stripe)

## üõ† –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.prod`:
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.prod` –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞. –û–Ω –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–æ–ø–∞–¥–∞—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π.

–ü—Ä–∏–º–µ—Ä –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏—è:

```bash
SECRET_KEY=your-super-secret-key
DEBUG=False
ALLOWED_HOSTS=your.domain.com,www.your.domain.com
DOMAIN_NAME=your.domain.com

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
DATABASE_URL=postgresql://user:password@db:5432/pizza_db

# Redis
# Redis –¥–ª—è –∫—ç—à–∞ –∏ Celery
REDIS_HOST=redis
REDIS_PORT=6379

# Celery
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# CORS
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ CORS
CORS_ALLOWED_ORIGINS=https://your.domain.com
CSRF_TRUSTED_ORIGINS=https://your.domain.com

# Stripe
# –ö–ª—é—á–∏ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π Stripe
STRIPE_PUBLISHABLE_KEY=pk_live_your_key
STRIPE_SECRET_KEY=sk_live_your_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# –ö—ç—à–±–µ–∫
CASHBACK_PERCENT=10

# Observability
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —Ç—Ä–µ–π—Å–∏–Ω–≥–∞
JAEGER_ENDPOINT=http://jaeger:14268/api/traces
SENTRY_DSN=your-sentry-dsn
```

### GitHub Secrets

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ GitHub:

```
PROD_HOST=your-server-ip
PROD_USER=deploy-user
PROD_SSH_KEY=your-private-ssh-key
PROD_PORT=22
```

## üöÄ –î–µ–ø–ª–æ–π

### –ü—Ä–æ—Å—Ç–æ–π –¥–µ–ø–ª–æ–π (SSH)

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/pizza-project
docker-compose -f docker-compose.prod.yml pull
docker-compose -f docker-compose.prod.yml up -d
```

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –¥–µ–ø–ª–æ–π (Ansible)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Ansible
pip install ansible

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
ansible-galaxy install -r ansible/requirements.yml

# –°–æ–∑–¥–∞–π—Ç–µ –∏ –∑–∞—à–∏—Ñ—Ä—É–π—Ç–µ vault —Ñ–∞–π–ª —Å —Å–µ–∫—Ä–µ—Ç–∞–º–∏
ansible-vault create ansible/vault.yml
# –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è vault –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–ø–ª–æ–π —Å vault
ansible-playbook -i ansible/inventory.yml ansible/deploy.yml \
  --ask-vault-pass \
  -e github_repository="your-username/pizza-project" \
  -e github_actor="your-username" \
  -e github_token="your-github-token" \
  -e prod_host="your-server-ip" \
  -e prod_user="deploy-user" \
  -e prod_ssh_key_path="~/.ssh/id_rsa" \
  -e prod_port="22"
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞–º–∏ —á–µ—Ä–µ–∑ Ansible Vault

```bash
# –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π vault —Ñ–∞–π–ª
ansible-vault create ansible/vault.yml

# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π vault —Ñ–∞–π–ª
ansible-vault edit ansible/vault.yml

# –ó–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ–∞–π–ª
ansible-vault encrypt ansible/vault.yml

# –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
ansible-vault decrypt ansible/vault.yml

# –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å vault
ansible-vault rekey ansible/vault.yml
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ó–∞–ø—É—Å–∫ observability —Å—Ç–µ–∫–∞

```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ç—å
docker network create observability

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ observability —Å—Ç–µ–∫
docker-compose -f docker-compose.observability.yml up -d
```

### –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º

- **Grafana**: http://localhost:3000 (admin/admin)
- **Prometheus**: http://localhost:9090
- **Jaeger**: http://localhost:16686
- **Loki**: http://localhost:3100

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# Backend —Ç–µ—Å—Ç—ã
pytest

# Frontend —Ç–µ—Å—Ç—ã
cd frontend
npm test

# E2E —Ç–µ—Å—Ç—ã
npx playwright test
```

### Factory-boy —Ç–µ—Å—Ç—ã

```python
# –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
from products.factories import ProductFactory
product = ProductFactory()
```

### Hypothesis —Ç–µ—Å—Ç—ã

```python
# Property-based —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
from hypothesis import given, strategies as st

@given(st.decimals(min_value=0, max_value=1000))
def test_product_price(price):
    product = ProductFactory(price=price)
    assert product.price == price
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### Rate Limiting

- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è: 5 –ø–æ–ø—ã—Ç–æ–∫ –≤ –º–∏–Ω—É—Ç—É
- –õ–æ–≥–∏–Ω: 10 –ø–æ–ø—ã—Ç–æ–∫ –≤ –º–∏–Ω—É—Ç—É
- Refresh —Ç–æ–∫–µ–Ω: 20 –ø–æ–ø—ã—Ç–æ–∫ –≤ –º–∏–Ω—É—Ç—É

### CSP (Content Security Policy)

–ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –ø–æ–ª–∏—Ç–∏–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç XSS –∞—Ç–∞–∫.

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞–º–∏

‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û**: –í—Å–µ —Å–µ–∫—Ä–µ—Ç—ã —Ç–µ–ø–µ—Ä—å —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Ansible Vault

–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- **Ansible Vault** (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
- **HashiCorp Vault**
- **AWS Secrets Manager**
- **Azure Key Vault**

**–ö–†–ò–¢–ò–ß–ù–û**: –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `lookup('env', ...)` –¥–ª—è —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ!

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –ò–Ω–¥–µ–∫—Å—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–î–æ–±–∞–≤–ª–µ–Ω—ã —Å–æ—Å—Ç–∞–≤–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤:
- `products_product_rating_idx`
- `products_product_rating_reviews_idx`

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

- Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- –Ø–≤–Ω–∞—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—ç—à–∞ –≤ –º–µ—Å—Ç–∞—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∞–ª–µ—Ä—Ç–æ–≤** –≤ Prometheus
2. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏** (Sentry, DataDog)
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ** (Kubernetes)
4. **–î–æ–±–∞–≤—å—Ç–µ backup —Å—Ç—Ä–∞—Ç–µ–≥–∏—é** –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
5. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã** —á–µ—Ä–µ–∑ Let's Encrypt

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–º–µ—á–∞–Ω–∏—è –∏–∑ –∫–æ–¥-—Ä–µ–≤—å—é –±—ã–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:

- ‚úÖ –ú–æ–Ω–æ–ª–∏—Ç–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ä–∞–∑–±–∏—Ç–∞ –Ω–∞ –º–µ–ª–∫–∏–µ
- ‚úÖ –°–∏–≥–Ω–∞–ª—ã —É–¥–∞–ª–µ–Ω—ã
- ‚úÖ SKU –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
- ‚úÖ Celery –∑–∞–¥–∞—á–∏ –ø–µ—Ä–µ–ø–∏—Å–∞–Ω—ã
- ‚úÖ –ü—Ä–æ–±–ª–µ–º–Ω—ã–π —Å–µ–ª–µ–∫—Ç–æ—Ä —É–¥–∞–ª–µ–Ω
- ‚úÖ E2E —Ç–µ—Å—Ç—ã —É–ª—É—á—à–µ–Ω—ã
- ‚úÖ Nginx –∫–æ–Ω—Ñ–∏–≥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
- ‚úÖ –ù–∞—Å—Ç–æ—è—â–∏–π CD –¥–æ–±–∞–≤–ª–µ–Ω
- ‚úÖ –ü–æ–ª–Ω–∞—è observability –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —É—Å–∏–ª–µ–Ω–∞
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–ª—É—á—à–µ–Ω–æ

–ü—Ä–æ–µ–∫—Ç —Ç–µ–ø–µ—Ä—å –≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É! üöÄ
